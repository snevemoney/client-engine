# === Dev vs Prod ===
# Local dev: DATABASE_URL usually points to localhost; REDIS_URL=redis://localhost:6379 (or omit).
# Prod (Docker): DATABASE_URL uses host "postgres", REDIS_URL=redis://redis:6379. Worker and app need REDIS_URL for queues.

# Database (required for app + prisma)
DATABASE_URL=postgresql://engine:YOUR_DB_PASSWORD@postgres:5432/client_engine
DB_PASSWORD=YOUR_DB_PASSWORD

# Admin sign-in (used by prisma/seed.mjs — set these then run seed)
ADMIN_EMAIL=your-admin@example.com
ADMIN_PASSWORD=your-secure-password

# OpenAI (required for enrich / score / position / propose / build)
OPENAI_API_KEY=sk-...

# Auth (required for login/session; NextAuth)
AUTH_SECRET=generate-with-openssl-rand-base64-32
# Dev only: set this to log in as ANY email with this password (skips DB). Use when DB login fails.
# AUTH_DEV_PASSWORD=changeme
# Production: must match your public URL (stops redirect loops)
NEXTAUTH_URL=https://evenslouis.ca

# E2E / smoke tests: set to 1 to run pipeline without LLM (placeholder artifacts)
# PIPELINE_DRY_RUN=1
# Prod e2e (learning ingest, etc.): set so Playwright can log in at PLAYWRIGHT_BASE_URL=https://evenslouis.ca
# E2E_EMAIL=your-prod-login@example.com
# E2E_PASSWORD=your-prod-password
# On the production server, also set these so e2e login works without relying on DB password:
# E2E_ALLOW_DEV_PASSWORD=1
# AUTH_DEV_PASSWORD= (same as E2E_PASSWORD; allows e2e to log in as E2E_EMAIL; user is created if missing)

# Research Engine R1 (cron ingest → lead + pipeline)
# RESEARCH_ENABLED=1
# RESEARCH_FEED_URL=https://example.com/feed.xml
# RESEARCH_LIMIT_PER_RUN=10
# RESEARCH_INTERVAL_MINUTES=45
# RESEARCH_CRON_SECRET=optional-secret-for-cron-auth

# Email ingestion (worker) — Hostinger IMAP; set IMAP_USER and IMAP_PASS to connect inbox
IMAP_HOST=imap.hostinger.com
IMAP_PORT=993
IMAP_USER=your-mailbox@yourdomain.com
IMAP_PASS=your-mailbox-password

# Website form → email notification. Use either Resend API or SMTP (Hostinger outgoing). NOTIFY_EMAIL is where you receive the notification.
NOTIFY_EMAIL=contact@evenslouis.ca
# Option A: Resend (third-party API)
# RESEND_API_KEY=re_...
# Option B: SMTP (internal, e.g. Hostinger) — same mailbox as IMAP for send
SMTP_HOST=smtp.hostinger.com
SMTP_PORT=465
SMTP_USER=your-mailbox@yourdomain.com
SMTP_PASS=your-mailbox-password
# SITE_FROM_EMAIL=contact@evenslouis.ca   # optional; default is SMTP_USER or Resend onboarding

# Queue (worker + app). Dev: redis://localhost:6379. Prod Docker: redis://redis:6379
REDIS_URL=redis://redis:6379

# Optional: base URL for notification emails (e.g. https://evenslouis.ca)
# NEXT_PUBLIC_APP_URL=https://evenslouis.ca

# Meta Pixel + Conversions API (optional; for ad attribution when website form submits)
# META_PIXEL_ID=1413012380573952
# META_CAPI_ACCESS_TOKEN=your-capi-token

# Meta Ads Monitor (optional; read-only dashboard at /dashboard/meta-ads)
# META_ACCESS_TOKEN=your-long-lived-or-system-user-token
# META_AD_ACCOUNT_ID=act_1234567890
